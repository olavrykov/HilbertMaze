"use strict";(globalThis.webpackChunkcodility=globalThis.webpackChunkcodility||[]).push([[6879],{35258:(t,e,n)=>{n.d(e,{Z:()=>s});var o=n(67294),i=n(36956);function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},r.apply(this,arguments)}const s=t=>{let{children:e,to:n=e,...s}=t;return o.createElement(i.ZP,r({href:`mailto:${n}`,external:!0,trusted:!0},s),e)}},36956:(t,e,n)=>{n.d(e,{ZP:()=>m,ZS:()=>d,ff:()=>h,ov:()=>f});var o=n(67294),i=n(40360),r=n(38205),s=n(99591),a=n(38052),c=n(3256);function l(){return l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},l.apply(this,arguments)}const u=(0,r.iv)(["background:none;border:none;cursor:pointer;padding:0;"]),d=r.ZP.a.attrs((t=>({onClick:t.onClick,onMouseDown:c.Z}))).withConfig({displayName:"Link__StyledTextAnchor",componentId:"sc-t0e2yj-0"})(["",";",";text-decoration:underline;color:",";&:hover{text-decoration:underline;color:",";}"],s.W2.basic,u,(t=>t.darkMode?(0,a.L)("warmgrey300"):(0,a.L)("coolgrey600")),(t=>t.darkMode?(0,a.L)("sunset100"):(0,a.L)("ultramarine600"))),h=(0,r.iv)(["",";",";color:",";border-bottom:3px solid ",";font-weight:",";text-decoration:none;&:hover{background-color:",";border-color:",";color:",";text-decoration:none;}"],(t=>t.small?s.W2.small:s.W2.basic),u,(t=>t.darkMode?(0,a.L)("warmgrey300"):(0,a.L)("ultramarine900")),(t=>t.darkMode?(0,a.L)("sunset100"):(0,a.L)("lavender600")),s.f.weights.medium,(t=>t.darkMode?(0,a.L)("sunset100"):(0,a.L)("lavender400")),(t=>t.darkMode?(0,a.L)("sunset100"):(0,a.L)("lavender400")),(0,a.L)("ultramarine900")),f=r.ZP.a.attrs((t=>({onClick:t.onClick,onMouseDown:c.Z}))).withConfig({displayName:"Link__StyledAnchor",componentId:"sc-t0e2yj-1"})(["",";"],h),m=t=>{let{external:e=!1,href:n,trusted:r=!1,type:s="color",withReferrer:a=!1,...c}=t;const u=c.children,h=n??u,m="basic"===s?d:f;if(e){const t=r?h:i.getUrlWithQueryString("/redirection-warning/",{next:h});return o.createElement(m,l({},c,{href:t,rel:"nofollow noopener "+(a?"":"noreferrer"),role:"link",target:"_blank"}))}return o.createElement(m,l({},c,{href:h,rel:"noopener "+(a?"":"noreferrer"),role:"link",target:"_self"}))}},30867:(t,e,n)=>{var o=n(67294),i=(n(59646),n(20637)),r=n(77224),s=n(54830),a=n(42751),c=n(53181),l=n(7929),u=n(92091),d=n(89320);function h(t){t.find(".js-try-solution").click((function(t){t.preventDefault(),$(this).closest("form").submit()}))}function f(t,e,n){let o=t.firstChild;for(;o;)e(o),f(o,e,n),n(o),o=o.nextSibling}function m(t,e){const n=[];return t&&n.push(t.className),e&&n.push("idiff"),n.join(" ")}function p(t,e){const n=[],o=[];f(t,(t=>{if(3===t.nodeType)for(let e=0;e<t.data.length;e++)n.push(o[o.length-1]);else o.push(t)}),(t=>{3!==t.nodeType&&o.pop()}));const i=$(e).text(),r=$(t).text();if(i.length){const e=r.indexOf(i),o=e+i.length,s=[];let a,c,l=null;for(let t=0;t<r.length;t++){if(a=n[t],c=t>=e&&t<o,(a!==l||e===t||t===o)&&((l||t>e||t===o)&&s.push("</span>"),a||c||t===o)){const t=m(a,c);s.push(`<span class='${t}' />`)}let i=r[t];"<"===i?i="&lt;":">"===i?i="&gt;":"&"===i&&(i="&amp;"),s.push(i),l=a}(l||c)&&s.push("</span>"),t.innerHTML=s.join("")}}function g(t){return"pas"===t?"delphi":"sql-postgres"===t||"mysql"===t?"sql":t}const k={};function b(t,e,n){let{solutions:o,task_changes:r}=e,{focus_inactive:s,start_time:a,end_time:c,start_label:l,end_label:u}=n;const d=Math.min(r[0].timestamp,a),f=Math.max(r[r.length-1].timestamp,c),m=f-d;function b(t){return t<d?0:(t-d)/m*.98+.01}function v(t){return Math.round(600*b(t))}const y=function(t){let e=null;for(let n=0;n<t.length;n++)""!==t[n].mode&&(e=t[n]),e&&(t[n].prevSubmit=e);e=null;for(let n=t.length-1;n>=0;n--)""!==t[n].mode&&(e=t[n]),e&&(t[n].nextSubmit=e);const n=[];for(let e=0;e<t.length;e++){const o=t[e];""===o.mode&&(o.prevSubmit&&o.timestamp-o.prevSubmit.timestamp<=2||o.nextSubmit&&o.nextSubmit.timestamp-o.timestamp<=2)||(o.idx=e,n.push(o))}return n}(o),x=$(`#solution-slider-${t}`);let w=null;function _(e){if(e===w)return;const n=`task-${t}-submit-current`,o=$(`#solution-placeholder-${t}`);null!==w&&$(`#${n}`).hide(),o.empty();const r=$(`#task-${t}-submit-${y[e].idx}`).clone();r.attr("id",n),o.append(r),r.position(o.position);let s=r.find(".solution-sourcecode-print pre code").get(0);if(s)!function(t){const e=$(t).parent().attr("data-sh-highlight"),n={},o=$(t).data("prg-lang");let r;if(e&&(r=JSON.parse(e)),$(r).each(((t,e)=>{n[e]=!0})),"txt"===o)$(t).addClass("no-highlight hljs"),$(t).css("white-space","pre-wrap");else{const e=g(o);$(t).addClass(`language-${e}`)}i.Z.highlightElement(t),$(t).html($(t).html().split("\n").map(((t,e)=>`<span class='line ${function(t){return t in n?"hll":""}(e+1)}'>${t}</span>`)).join("\n")),$(t).closest(".solution-summary").find(".js-popup-source").click((e=>{e.preventDefault();const n=["location=0","resizable=1","menubar=0","scrollbars=1","left="+(window.screen.width-750)/2,"top="+(window.screen.height-400)/2,"width=750","height=400"].join(","),o=window.open("","_blank",n);o.document.write('<pre style="white-space: pre-wrap; word-wrap: break-word;"></pre>'),$("pre",o.document).text($(t).text()),o.document.close(),o.focus()}))}(s);else{const t=r.find(".diff-container").attr("data-prg-lang");s=r.find(".diff-container .diff-file tbody"),function(t,e){const n=g(e),o=!!i.Z.getLanguage(n);let r;$(t).find("tr td.line_content").each(((t,e)=>{const s=$(e).text(),a=$(e).find(".idiff")[0];let c;if(o){const t=i.Z.highlight(n,s,!0,r);r=t.top,c=$(e).html(t.value)[0]}else c=e;a?p(c,a):$(e).html($(c).html())}))}(s,t)}h(o),$(`#${n} [data-content]`).popup(),r.height()>k[t]&&(k[t]=r.height()),o.css("min-height",k[t]),r.show(),w=e}function j(t){_(t),x.slider("value",v(y[t].timestamp))}function E(t){const e=x.find("span");e.attr("aria-valuemin",0),e.attr("aria-valuemax",600),e.attr("aria-valuenow",v(t.timestamp)),e.attr("aria-valuetext",t.timestring)}function S(t){let e=0;for(;e<y.length-1&&v(y[e+1].timestamp)<=t;)e+=1;E(y[e]),_(e)}const Z={min:0,max:600,slide(){S(x.slider("value"))},stop(){S(x.slider("value"))}};x.slider(Z);let C=y.length-1;for(let t=0;t<y.length;t++)"final"===y[t].mode&&(C=t);j(C),$(`#timeline-${t}-next`).button({icons:{primary:"ui-icon-seek-next"},text:!1}).click((function(){let t=w+1;for(;t<y.length&&""===y[t].mode;)t+=1;t===y.length&&(t-=1),j(t)})),$(`#timeline-${t}-prev`).button({icons:{primary:"ui-icon-seek-prev"},text:!1}).click((function(){let t=w-1;for(;t>=0&&""===y[t].mode;)t-=1;t<0&&(t=0),j(t)})),$(`#timeline-${t}-rewind`).button({icons:{primary:"ui-icon-seek-first"},text:!1}).click((()=>{j(0)})),$(`#timeline-${t}-forward`).button({icons:{primary:"ui-icon-seek-end"},text:!1}).click((()=>{j(y.length-1)}));let M=null;function L(){null!==M&&(clearInterval(M),M=null)}function T(){const e=$(`<div id="task-${t}-timeline" class="task-timeline"></div>`);function n(t,n,o){const i=$(`<div class="${t}bar"></div>`);i.appendTo(e),i.css("left",b(n)*e.width()),i.css("width",(b(o)-b(n))*e.width()),i.attr("note",`${n}:${o}`)}e.appendTo($(`#solution-timeline-container-${t}`));const o=[];let i,a=!1;for(let t=0;t<r.length;t++){if(!r[t].to_current&&a){for(let e=t+1;e<r.length&&r[e].timestamp-r[t].timestamp<300;e++)r[e].to_current;o.push([i,r[t].timestamp]),a=!1}r[t].to_current&&!a&&(a=!0,i=r[t].timestamp)}a&&o.push([i,f]),o.sort();const c=[];$.each(o,((t,e)=>{c.push([e[0],"work_start"]),c.push([e[1],"work_end"])})),$.each(s,((t,e)=>{c.push([e.start_time,"inactive_start"]),c.push([e.end_time,"inactive_end"])})),c.sort();let l=!0,u=!1,d=null;function h(t){j(t.data)}$.each(c,((t,e)=>{const o=e[0];switch(null!==d&&u&&d<o&&(l?function(t,e){n("work",t,e)}(d,o):function(t,e){n("inactive",t,e)}(d,o)),d=o,e[1]){case"work_start":u=!0;break;case"work_end":u=!1;break;case"inactive_start":l=!1;break;case"inactive_end":l=!0}})),x.css("border","0"),e.css("top",4);for(let t=0;t<y.length;t++){if(""===y[t].mode)continue;const n=y[t].mode;let o="verify";"final"!==n&&"verify"!==n&&"paste"!==n||(o=n);const i=$(`<div class="submit-outer outer-${o}"></div>`),r=$(`<div class="submit-inner inner-${o}"></div>`).appendTo(i);e.append(i),i.attr("note",`${y[t].timestamp}`),i.css("left",b(y[t].timestamp)*e.width()),r.click(t,h)}}$(`#timeline-${t}-play`).button({icons:{primary:"ui-icon-play"},text:!1}).click((function(){if(null!==M)return;w===y.length-1&&j(0);const t=x.slider("option","max");M=setInterval((function(){const e=Math.min(t,x.slider("value")+5);x.slider("value",e),S(e),w===y.length-1&&L()}),90)})),$(`#timeline-${t}-stop`).button({icons:{primary:"ui-icon-stop"},text:!1}).click(L),T(),function(t){const e=x.find("span");e.attr("role","slider"),e.attr("aria-label","Timeline slider"),E(t)}(y[y.length-1]),window.addEventListener("resize",(()=>{$(`#task-${t}-timeline`).remove(),T()}));const P=$(`#solution-slider-${t}-time-start`),O=$(`#solution-slider-${t}-time-end`);P.text(l),P.attr("aria-label",`Start time: ${l}`),O.text(u),O.attr("aria-label",`End time: ${u}`)}function v(t,e){setTimeout((async()=>{const n=await l.Z.get(t);"OK"===n.status&&(n.ready?window.location.reload(!0):v(t,e))}),e)}window.addEventListener("load",(()=>{(0,d.x)("#js-ticket-detail-data",(t=>{let{shouldRefresh:e,sliderData:n,taskNames:i,taskScores:f,ticketId:m}=t;e&&(!function(){const t=document.querySelector("#loader");t&&(t.style.display="block")}(),v(`/tickets/${m}/is_ready/`,1e4)),function(t){let{taskNames:e,taskScores:n,ticketId:i}=t;const f={change:`/tickets/_ajax_change/${i}/`,timeline:`/tickets/${i}/timeline/`};function m(t,e){$(e).click((0,u._j)((()=>l.Z.post(f.change,$(t).serialize(),{headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}})),{onSuccess:()=>{window.location.reload()}}))}for(let t=0;t<e.length;++t){const e=`.modify-score-popup-${t}`,n=`.js-keep-system-score-form-${t}`,o=`.js-keep-system-score-${t}`,i=`.js-custom-score-form-${t}`,r=`.js-override-system-score-${t}`;$(`.js-modify-score-edit-button-${t}`).popup({popup:$(e),on:"click",lastResort:!0}),m(n,o),m(i,r);const s=`#sol-desc-${t}`,a=s+"_editor",l=$(a).find("input[name=field]").val();(0,c.c)(l,s,a,f.change)}for(const t of Object.keys(n)){const e=".js-system-score-button-"+t,o=n[t];void 0===o&&$(e).css("background-color","grey"),0===o?$(e).css("background-color","grey"):o<=49?$(e).css("background-color","yellow"):o<=89?$(e).css("background-color","olive"):$(e).css("background-color","green")}$(".ui.radio.checkbox").checkbox(),$(".a-timeline").click((t=>{t.preventDefault(),(0,a.HJ)(f.timeline,{size:"small",header:o.createElement(s.Z.Header,null,"Test timeline"),getActions:t=>o.createElement(s.Z.Actions,null,o.createElement(r.Z,{onClick:t},"Close")),onModalMount:()=>{(0,d.x)("#js-keyboard-events-data",(t=>{let{keyboardEvents:e}=t;$.plot($("#js-keyboard-events-data"),[e],{series:{bars:{show:!0,align:"center",barWidth:.01,fill:.9},shadowSize:0},xaxis:{mode:"time",timeformat:"%H:%M",autoScale:"loose",autoScaleMargin:.02,timeBase:"milliseconds"},yaxis:{min:0}})}))}})})),$(".system-score-checkbox").click((function(){$(".custom-score-checkbox").find(":radio").prop("checked",!1)})),$(".custom-score-checkbox").click((function(){$(".system-score-checkbox").find(":radio").prop("checked",!1)})),$(".system-score-button").click((function(){$(".system-score-checkbox").find(":radio").prop("checked",!0),$(".custom-score-checkbox").find(":radio").prop("checked",!1)})),$(".js-custom-score-textbox").click((function(){$(".system-score-checkbox").find(":radio").prop("checked",!1),$(".custom-score-checkbox").find(":radio").prop("checked",!0)})),$(".task-opener a").click((function(){const t=$(this).parents(".task").attr("id");return $(`.${t}-details`).toggle(),!1})),h($("main"))}({taskNames:i,taskScores:f,ticketId:m}),function(t){for(const e in t.tasks){const n=t.tasks[e];k[e]=0,b(e,n,t)}}(n),function(t){const e=$(t);function n(t){return t.find(".expand-icon").not(".expand-icon-rotate").length>0}function o(t){const e=t.find(".expand-link"),o=t.find(".header > b").text();n(t)?(e.text("expand all"),e.attr("aria-label",`Expand all ${o}`)):(e.text("collapse all"),e.attr("aria-label",`Collapse all ${o}`))}e.on("click",".tests-table .test",(function(t){t.preventDefault(),$(this).blur();const e=$(this).closest(".test");e.next().slideToggle(300);const n=e.find(".expand-icon");n.toggleClass("expand-icon-rotate"),n.attr("aria-expanded",(function(t,e){return"false"===e?"true":"false"})),o($(this).closest(".tests-group"))})),e.on("click",".tests-table .expand-link",(function(t){t.preventDefault(),$(this).blur();const e=$(this).closest(".tests-group");n(e)?(e.find(".test-details").slideDown(300),e.find(".expand-icon").addClass("expand-icon-rotate"),e.find(".expand-icon").attr("aria-expanded",!0)):(e.find(".test-details").slideUp(300),e.find(".expand-icon").removeClass("expand-icon-rotate"),e.find(".expand-icon").attr("aria-expanded",!1)),o(e)}))}(document.querySelector(".tasks"))}))}))},53181:(t,e,n)=>{n.d(e,{c:()=>s,f:()=>a});var o=n(7929),i=n(92091);class r{constructor(t,e,n,o){this.name=t,this.elemId=e,this.editorId=n,this.postUrl=o,this.elem=$(e),this.editor=$(n),$(n+" .cancel").click((()=>this.cancel())),$(e+" .change").click((()=>this.change())),$(n+" .submit").click((()=>this.submit()))}cancel(){return this.editor.hide(),this.elem.show(),!1}change(){return this.elem.hide(),this.editor.show(),!1}getValue(){return this.editor.find('[name="value"]').val()}submit(){const t=this,e=this.editor.find("form").serialize(),n=$(this.editorId+" .submit").val();return $(this.editorId+" .submit").val("submitting..."),(0,i.Mo)((()=>o.Z.post(this.postUrl,e,{headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}})),{onSuccess:()=>{t.submitOK()},onAfter:()=>{$(t.editorId+" .submit").val(n)}}),!1}submitOK(){"modify_result"!==this.name?($(this.elemId+" span.value").html($("<div/>").text(this.getValue()).html()),this.editor.hide(),this.elem.show()):window.location.reload()}}function s(t,e,n,o){return new r(t,e,n,o)}function a(t,e,n){$(e+" a.cancel").click((function(){return $(e).hide(),$(t).show(),!1})),$(t+" a.change").click((function(){return $(t).hide(),$(e).show(),!1})),$(e+" .submit").click((function(){let o=$(e+' input[name="value"]');0===o.length&&(o=$(e+' textarea[name="value"]'));const i=$(o).val();$(t+" span.value").html($("<div/>").text(i).html()),n(i),$(e).hide(),$(t).show()}))}},19599:(t,e,n)=>{n.d(e,{Z:()=>o});class o extends Error{constructor(t){super("Validation error"),this.errors=t}}},68097:(t,e,n)=>{n.d(e,{Z:()=>f,o:()=>u});var o=n(67294),i=n(50308),r=n.n(i),s=n(35258),a=n(57490),c=n(71709),l=n(19599);function u(){return"We have encountered an unforeseen error."}function d(t,e){e.capture({exception:t,domain:"djangoApiHelpers"})}const h={400:(t,e)=>{e.onBadRequest(t.response?.data.errors,e)},404:(t,e)=>{e.onNotFound(e)},429:(t,e)=>{e.notify("We had too many requests from you in a short time. Please wait a bit before retrying.","error")}};function f(t,e){const n={getErrorNotification:u,globalConfig:c.vc,notify:a.h,raven:c.Fz,onBadRequest:r(),onNotFound:r(),...e};if(t instanceof l.Z)n.onBadRequest(t.errors,n);else if(t&&t.request)if(t.response){if(!e.ignoreServerErrors)try{!function(t,e){const{status:n}=t;h.hasOwnProperty(n)?h[n](t,e):function(t,e){e.raven.capture({exception:t,domain:"djangoApiHelpers",extra:{method:t.method,url:t.url,status:t.status}}),e.notify(o.createElement(o.Fragment,null,e.getErrorNotification(t)," Please contact us at"," ",o.createElement(s.Z,null,e.globalConfig.supportEmail),"."),"error")}(t,e)}(t,n)}catch(t){d(t,n.raven)}}else t.isTimeout?(0,n.notify)("Request has timed out. Please try again in a moment or check your connection.","error"):(0,n.notify)("We detected problems with your connection. Please check it and try again.","error");else d(t,n.raven)}},86026:(t,e,n)=>{n.d(e,{Mo:()=>d,_j:()=>h,kN:()=>f,Sr:()=>m,sW:()=>p});var o=n(50308),i=n.n(o),r=n(67294),s=n(68097),a=n(90647),c=n(66604),l=n.n(c);function u(t){return l()(t,(t=>Array.isArray(t)?0===t.length?[]:"string"==typeof t[0]?t[0]:t.map(u):u(t)))}function d(t,e,n){return async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const{onBefore:o=i(),onSuccess:r=i(),onError:s=i(),onAfter:a=i()}=e,c={...e,values:n};o(c);try{r(await t(c.values,c),c)}catch(t){s(t,c)}a(c)}(t,function(t){return{onError:s.Z,...t}}(e),n)}function h(t,e){return n=>d(t,e,n)}function f(t,e){return(n,o)=>d(t,function(t){const{useCeepErrors:e,mapRawErrors:n=(e?a.Z:u),processErrors:o=i(),actions:r}=t;return{onBadRequest(t,e){const i=n(t);o(i,e),r.setErrors(i)},...t}}({...e,...o}),n)}function m(t,e,n){return(0,r.useMemo)((()=>h(t,e)),n)}function p(t,e,n){return(0,r.useMemo)((()=>f(t,e)),n)}},92091:(t,e,n)=>{function o(t,e){let n=1,o=0;return function i(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return o<e?t(...s).catch((()=>new Promise((t=>{setTimeout((()=>{n*=2,o+=1,t(i(...s))}),1e3*n)})))):t(...s)}}n.d(e,{p8:()=>r.Z,QK:()=>o,Mo:()=>i.Mo,_j:()=>i._j,kN:()=>i.kN,Sr:()=>i.Sr,sW:()=>i.sW});var i=n(86026),r=n(19599)},90647:(t,e,n)=>{n.d(e,{Z:()=>h,p:()=>d});var o=n(39693),i=n.n(o),r=n(17204),s=n.n(r),a=n(14293),c=n.n(a),l=n(43174),u=n.n(l);function d(t,e){const[n,o]=u()(e,(e=>{let{fieldPath:n}=e;return"string"==typeof n&&(n===t||n.startsWith(`${t}.`))})),r=n.map((t=>{let{message:e}=t;return e})).join("\n");return i()([...o,n.length>0&&{code:"$FLATTENED_CEEP_ERROR",fieldPath:t,message:r}])}function h(t){return s()(t.filter((t=>{let{fieldPath:e}=t;return!c()(e)})).map((t=>{let{fieldPath:e,message:n}=t;return[e,n]})))}},82373:(t,e,n)=>{n.d(e,{Z:()=>s});var o=n(14293),i=n.n(o);const r=["click","mousedown","mouseup"];function s(t){return!i()(t)&&r.includes(t.type)&&0===t.button}},10257:(t,e,n)=>{n.d(e,{Z:()=>i});const o=Symbol("id");function i(t,e,n,i){const r=n.id??i.id;if(void 0!==r)return r;const s=(+t[o]||0)+1;return t[o]=s,`${e}-auto-id-${s}`}},89320:(t,e,n)=>{n.d(e,{x:()=>i});var o=n(51008);function i(t,e){(0,o.wB)(t).forEach((t=>(0,o.Sm)(t,e)))}}},t=>{t.O(0,[9900,2253,7487,2721,3502,7511,8341,6383,8542,7354,9641,637,4676,6184,7224,7490,5494,2751],(()=>(30867,t(t.s=30867)))),t.O()}]);